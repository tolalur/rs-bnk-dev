<div class="flex flex-col p-5">
  <div class="flex mb-2 items-center justify-between">
    <h3>СПИСОК ЗАЯВОК НА РЕЗЕРВИРОВАНИЕ РЕСУРСОВ ЦОД</h3>
    <button
      class="self-end mr-1"
      mat-raised-button
      routerLink="/request/add"
    >Создать заявку на резервирование
    </button>
  </div>
  <div class="table-container">
    <div class="table-container--shade" *ngIf="isLoadingResults">
      <mat-spinner *ngIf="isLoadingResults"></mat-spinner>
    </div>
    <table mat-table [dataSource]="dataSource" class="mt-5 table-container--table">
    <ng-container matColumnDef="creationDate">
      <th mat-header-cell *matHeaderCellDef>Дата создания заявки</th>
      <td mat-cell *matCellDef="let element">
        <span>{{element.creationDate | date:'shortDate':'ru'}}</span>
        <span class="date-time">{{element.creationDate | date:'mediumTime':'ru'}}</span>
      </td>
    </ng-container>

    <ng-container matColumnDef="applicationNumber">
      <th mat-header-cell *matHeaderCellDef>Номер заявки</th>
      <td mat-cell *matCellDef="let element"> {{element.applicationNumber}} </td>
    </ng-container>

    <ng-container matColumnDef="user">
      <th mat-header-cell *matHeaderCellDef>Пользователь</th>
      <td mat-cell *matCellDef="let element"> {{element.user}} </td>
    </ng-container>

    <ng-container matColumnDef="endReservationDate">
      <th mat-header-cell *matHeaderCellDef>Окончание срока резервирования</th>
      <td mat-cell *matCellDef="let element">
        <span>{{element.endReservationDate | date:'shortDate':'ru'}}</span>
        <span class="date-time">{{element.endReservationDate | date:'mediumTime':'ru'}}</span>
      </td>
    </ng-container>

    <ng-container matColumnDef="projectId">
      <th mat-header-cell *matHeaderCellDef>Идентификатор проекта</th>
      <td mat-cell *matCellDef="let element"> {{element.projectId}} </td>
    </ng-container>

    <ng-container matColumnDef="statusChangeDate">
      <th mat-header-cell *matHeaderCellDef>Дата изменения статуса</th>
      <td mat-cell *matCellDef="let element">
        <span>{{element.statusChangeDate | date:'shortDate':'ru'}}</span>
        <span class="date-time">{{element.statusChangeDate | date:'mediumTime':'ru'}}</span>
      </td>
    </ng-container>
    <ng-container matColumnDef="status">
      <th mat-header-cell *matHeaderCellDef>Статус</th>
      <td mat-cell *matCellDef="let element"> {{element.status}} </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;" [routerLink]="[row.id]" ></tr>
  </table>

  </div>
</div>
